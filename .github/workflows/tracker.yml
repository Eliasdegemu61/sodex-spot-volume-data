- name: Commit and Push changes
        run: |
          git config --local user.email "github-actions[bot]@users.noreply.github.com"
          git config --local user.name "github-actions[bot]"
          
          # 1. Stage the changes first
          git add spot_vol_data.json daily_stats/
          
          # 2. Commit them locally
          git commit -m "Auto-update stats: $(date +'%Y-%m-%d %H:%M')" || echo "No changes to commit"
          
          # 3. Now pull from remote to merge any manual changes you made elsewhere
          # --rebase keeps the history clean; 'strategy-option=theirs' favors the bot if there's a conflict
          git pull --rebase origin main
          
          # 4. Finally push
          git push
